{"swagger":"2.0","info":{"version":"1.0.0","title":"BiblioSystemDocs"},"host":"localhost:8080","basePath":"/BiblioSystem/rest","tags":[{"name":"biblio"}],"schemes":["http"],"paths":{"/biblio":{"get":{"tags":["biblio"],"summary":"getBiblio","description":"read main resource","operationId":"getBiblio","produces":["application/xml","application/json"],"parameters":[],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Biblio"}}}}},"/biblio/bookshelves":{"get":{"tags":["biblio"],"summary":"getBookshelves","description":"search bookshelves","operationId":"getBookshelves","produces":["application/xml","application/json"],"parameters":[{"name":"keyword","in":"query","description":"The keyword to be used for the search","required":false,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/Bookshelves"}},"204":{"description":"OK","schema":{"$ref":"#/definitions/Bookshelves"}}}},"post":{"tags":["biblio"],"summary":"createBookshelf","description":"create a new bookshelf","operationId":"createBookshelf","consumes":["application/xml","application/json"],"parameters":[{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/Bookshelf"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Bookshelf"}},"400":{"description":"Bad Request"}}}},"/biblio/bookshelves/{id}":{"get":{"tags":["biblio"],"summary":"getBookshelf","description":"read a single bookshelf","operationId":"getBookshelf","produces":["application/xml","application/json"],"parameters":[{"name":"id","in":"path","description":"The id of the bookshelf","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Bookshelf"}},"404":{"description":"Not Found"}}},"put":{"tags":["biblio"],"summary":"updateBookshelf","description":"update a single bookshelf","operationId":"updateBookshelf","consumes":["application/xml","application/json"],"produces":["application/xml","application/json"],"parameters":[{"name":"id","in":"path","description":"The id of the bookshelf","required":true,"type":"integer","format":"int64"},{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/Bookshelf"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Bookshelf"}},"400":{"description":"Bad Request"},"404":{"description":"Not Found"}}},"delete":{"tags":["biblio"],"summary":"deleteBookshelf","description":"delete a single bookshelf","operationId":"deleteBookshelf","parameters":[{"name":"id","in":"path","description":"The id of the bookshelf","required":true,"type":"integer","format":"int64"}],"responses":{"204":{"description":"No content"},"404":{"description":"Not Found"}}}},"/biblio/bookshelves/{id}/items":{"get":{"tags":["biblio"],"summary":"getBookshelfItems","description":"get items of a bookshelf","operationId":"getBookshelfItems","produces":["application/xml","application/json"],"parameters":[{"name":"id","in":"path","description":"The id of the bookshelf","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Items"}},"404":{"description":"Not Found"}}}},"/biblio/bookshelves/{id}/items/{tid}":{"get":{"tags":["biblio"],"summary":"getItemFromBookshelf","description":"get item from of a bookshelf","operationId":"getItemFromBookshelf","produces":["application/xml","application/json"],"parameters":[{"name":"id","in":"path","description":"The id of the bookshelf","required":true,"type":"integer","format":"int64"},{"name":"tid","in":"path","description":"The id of the item","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Item"}},"404":{"description":"Not Found"}}},"put":{"tags":["biblio"],"summary":"addItemToBookshelf","description":"add an item to a bookshelf","operationId":"addItemToBookshelf","consumes":["application/xml","application/json"],"produces":["application/xml","application/json"],"parameters":[{"name":"id","in":"path","description":"The id of the bookshelf","required":true,"type":"integer","format":"int64"},{"name":"tid","in":"path","description":"The id of the item","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/Item"}},"201":{"description":"Created","schema":{"$ref":"#/definitions/Item"}},"403":{"description":"Forbidden (too many items in bookshelf)"},"404":{"description":"Not Found"}}},"delete":{"tags":["biblio"],"summary":"deleteItemFromBookshelf","description":"delete an item from a bookshelf","operationId":"deleteItemFromBookshelf","parameters":[{"name":"id","in":"path","description":"The id of the bookshelf","required":true,"type":"integer","format":"int64"},{"name":"tid","in":"path","description":"The id of the item","required":true,"type":"integer","format":"int64"}],"responses":{"204":{"description":"OK","schema":{"$ref":"#/definitions/Item"}},"404":{"description":"Not Found"}}}},"/biblio/bookshelves/{id}/numberOfReads":{"get":{"tags":["biblio"],"summary":"getNumberOfReads","description":"get number of reads for a bookshelf","operationId":"getNumberOfReads","produces":["text/plain"],"parameters":[{"name":"id","in":"path","description":"The id of the bookshelf","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK"},"404":{"description":"Not Found"}}}},"/biblio/items":{"get":{"tags":["biblio"],"summary":"getItems","description":"search items","operationId":"getItems","produces":["application/xml","application/json"],"parameters":[{"name":"keyword","in":"query","description":"The keyword to be used for the search","required":false,"type":"string"},{"name":"beforeInclusive","in":"query","description":"The year before which items are searched","required":false,"type":"integer","default":"10000","format":"int32"},{"name":"afterInclusive","in":"query","description":"The year after which items are searched","required":false,"type":"integer","default":"0","format":"int32"},{"name":"page","in":"query","description":"The page of results to be read","required":false,"type":"integer","default":"1","format":"int32"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Items"}}}},"post":{"tags":["biblio"],"summary":"createItem","description":"create a new item","operationId":"createItem","consumes":["application/xml","application/json"],"produces":["application/xml","application/json"],"parameters":[{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/Item"}}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/Item"}},"201":{"description":"OK","schema":{"$ref":"#/definitions/Item"}},"400":{"description":"Bad Request"}}}},"/biblio/items/articles":{"get":{"tags":["biblio"],"summary":"getArticles","description":"search articles","operationId":"getArticles","produces":["application/xml","application/json"],"parameters":[{"name":"keyword","in":"query","description":"The keyword to be used for the search","required":false,"type":"string"},{"name":"beforeInclusive","in":"query","description":"The year before which items are searched","required":false,"type":"integer","default":"10000","format":"int32"},{"name":"afterInclusive","in":"query","description":"The year after which items are searched","required":false,"type":"integer","default":"0","format":"int32"},{"name":"page","in":"query","description":"The page of results to be read","required":false,"type":"integer","default":"1","format":"int32"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Items"}}}}},"/biblio/items/books":{"get":{"tags":["biblio"],"summary":"getBooks","description":"search books","operationId":"getBooks","produces":["application/xml","application/json"],"parameters":[{"name":"keyword","in":"query","description":"The keyword to be used for the search","required":false,"type":"string"},{"name":"beforeInclusive","in":"query","description":"The year before which items are searched","required":false,"type":"integer","default":"10000","format":"int32"},{"name":"afterInclusive","in":"query","description":"The year after which items are searched","required":false,"type":"integer","default":"0","format":"int32"},{"name":"page","in":"query","description":"The page of results to be read","required":false,"type":"integer","default":"1","format":"int32"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Items"}}}}},"/biblio/items/{id}":{"get":{"tags":["biblio"],"summary":"getItem","description":"read a single item","operationId":"getItem","produces":["application/xml","application/json"],"parameters":[{"name":"id","in":"path","description":"The id of the item","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Item"}},"404":{"description":"Not Found"}}},"put":{"tags":["biblio"],"summary":"updateItem","description":"update a single item","operationId":"updateItem","consumes":["application/xml","application/json"],"produces":["application/xml","application/json"],"parameters":[{"name":"id","in":"path","description":"The id of the item","required":true,"type":"integer","format":"int64"},{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/Item"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Item"}},"400":{"description":"Bad Request"},"404":{"description":"Not Found"}}},"delete":{"tags":["biblio"],"summary":"deleteItem","description":"delete a single item","operationId":"deleteItem","parameters":[{"name":"id","in":"path","description":"The id of the item","required":true,"type":"integer","format":"int64"}],"responses":{"204":{"description":"No content"},"404":{"description":"Not Found"},"409":{"description":"Conflict (item is cited)"}}}},"/biblio/items/{id}/citations/targets":{"get":{"tags":["biblio"],"summary":"getItemCitations","description":"read the target items of the citations from an item","operationId":"getItemCitations","produces":["application/xml","application/json"],"parameters":[{"name":"id","in":"path","description":"The id of the item from which citations are considered","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Items"}},"404":{"description":"Not Found"}}}},"/biblio/items/{id}/citations/{tid}":{"get":{"tags":["biblio"],"summary":"getItemCitation","description":"read a citation","operationId":"getItemCitation","produces":["application/xml","application/json"],"parameters":[{"name":"id","in":"path","description":"The id of the citing item of this citation","required":true,"type":"integer","format":"int64"},{"name":"tid","in":"path","description":"The id of the cited item of this citation","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Citation"}},"404":{"description":"Not Found"}}},"put":{"tags":["biblio"],"summary":"createItemCitation","description":"create a citation","operationId":"createItemCitation","consumes":["application/xml","application/json"],"produces":["application/xml","application/json"],"parameters":[{"name":"id","in":"path","description":"The id of the citing item of this citation","required":true,"type":"integer","format":"int64"},{"name":"tid","in":"path","description":"The id of the cited item of this citation","required":true,"type":"integer","format":"int64"},{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/Citation"}}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/Citation"}},"201":{"description":"Created","schema":{"$ref":"#/definitions/Citation"}},"400":{"description":"Bad Request"},"404":{"description":"Not Found"},"409":{"description":"Conflict"}}},"delete":{"tags":["biblio"],"summary":"deleteItemCitation","description":"delete a citation","operationId":"deleteItemCitation","parameters":[{"name":"id","in":"path","description":"The id of the citing item of this citation","required":true,"type":"integer","format":"int64"},{"name":"tid","in":"path","description":"The id of the cited item of this citation","required":true,"type":"integer","format":"int64"}],"responses":{"204":{"description":"OK","schema":{"$ref":"#/definitions/Citation"}},"404":{"description":"Not Found"}}}},"/biblio/items/{id}/citedBy":{"get":{"tags":["biblio"],"summary":"getItemCitedBy","description":"read the items citing an item","operationId":"getItemCitedBy","produces":["application/xml","application/json"],"parameters":[{"name":"id","in":"path","description":"The id of the item for which citing items have to be read","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Items"}},"404":{"description":"Not Found"}}}}},"definitions":{"Item":{"type":"object","required":["author","title"],"properties":{"self":{"type":"string"},"author":{"type":"array","items":{"type":"string"}},"title":{"type":"string"},"subtitle":{"type":"string"},"article":{"$ref":"#/definitions/ArticleType"},"book":{"$ref":"#/definitions/BookType"},"citedBy":{"type":"string"},"citations":{"type":"string"},"targets":{"type":"string"}},"xml":{"name":"item"}},"Bookshelves":{"type":"object","required":["page","totalPages"],"properties":{"totalPages":{"type":"integer","format":"int64"},"page":{"type":"integer","format":"int64"},"next":{"type":"string"},"bookshelf":{"type":"array","items":{"$ref":"#/definitions/Bookshelf"}}},"xml":{"name":"bookshelves"}},"Biblio":{"type":"object","required":["articles","books","bookshelves","items","journals"],"properties":{"items":{"type":"string"},"journals":{"type":"string"},"articles":{"type":"string"},"books":{"type":"string"},"bookshelves":{"type":"string"},"self":{"type":"string"}},"xml":{"name":"biblio"}},"BookType":{"type":"object","required":["publisher"],"properties":{"publisher":{"type":"string"},"isbn":{"type":"string","xml":{"name":"ISBN"}},"year":{"type":"string","format":"date-time"}}},"Bookshelf":{"type":"object","required":["items","name"],"properties":{"self":{"type":"string"},"name":{"type":"string"},"items":{"type":"string"}},"xml":{"name":"bookshelf"}},"Items":{"type":"object","required":["page","totalPages"],"properties":{"totalPages":{"type":"integer","format":"int64"},"page":{"type":"integer","format":"int64"},"next":{"type":"string"},"item":{"type":"array","items":{"$ref":"#/definitions/Item"}}},"xml":{"name":"items"}},"Citation":{"type":"object","required":["from","to"],"properties":{"from":{"type":"string"},"to":{"type":"string"},"self":{"type":"string"}},"xml":{"name":"citation"}},"EBiblio":{"type":"object","required":["articles","books","bookshelves","items","journals","self"],"properties":{"items":{"type":"string"},"journals":{"type":"string"},"articles":{"type":"string"},"books":{"type":"string"},"bookshelves":{"type":"string"},"self":{"type":"string"}},"xml":{"name":"biblio"}},"ArticleType":{"type":"object","properties":{"journal":{"type":"string"},"volume":{"type":"string","format":"date-time"},"number":{"type":"integer","format":"int64"}}}}}
